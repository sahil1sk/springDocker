CREATE SCHEMA infytel;

USE infytel;

CREATE TABLE plan(
plan_id INTEGER PRIMARY KEY,
plan_name VARCHAR(50),
local_rate INTEGER,
national_rate INTEGER);

INSERT INTO plan VALUES(1,'IFY_60',60,60);
INSERT INTO plan VALUES(2,'IFY_10',10,20);
INSERT INTO plan VALUES(3,'IFY_30',30,60);

SELECT * FROM plan;

CREATE TABLE customer(
phone_no BIGINT PRIMARY KEY,
name VARCHAR(50),
age INTEGER,
gender CHAR,
address VARCHAR(50),
plan_id INTEGER REFERENCES PLAN(plan_id),
password VARCHAR(50));

INSERT INTO customer VALUES(9009009001,'Mark',25,'M','Infy Chicago',1,'infy@123');
INSERT INTO customer VALUES(9009009002,'Steve',56,'M','Infy Texas',2,'7hjUavb*');
INSERT INTO customer VALUES(9009009003,'Linda',23,'F','Infy NY',3,'@aPbj8');

SELECT * FROM customer;

CREATE TABLE calldetails(
id INTEGER PRIMARY KEY,
called_by BIGINT,
called_to BIGINT,
called_on DATE,
duration INTEGER);

INSERT INTO calldetails VALUES(1,9009009001,9009009002,'2017-08-12',34);
INSERT INTO calldetails VALUES(2,9009009002,9009009003,'2017-08-11',4);
INSERT INTO calldetails VALUES(3,9009009003,9009009001,'2017-08-10',14);
INSERT INTO calldetails VALUES(4,9009009001,9009009002,'2017-08-13',3);
INSERT INTO calldetails VALUES(5,9009009002,9009009003,'2017-08-14',55);
INSERT INTO calldetails VALUES(6,9009009003,9009009001,'2017-08-15',126);
INSERT INTO calldetails VALUES(7,9009009001,9009009002,'2017-08-16',79);
INSERT INTO calldetails VALUES(8,9009009002,9009009003,'2017-08-17',3);

SELECT * FROM calldetails;

CREATE TABLE friendfamily(
id INTEGER PRIMARY KEY AUTO_INCREMENT,
phone_no BIGINT REFERENCES customer(phone_no),
friend_and_family BIGINT);

INSERT INTO friendfamily VALUES(1,9009009001,9009009002);
INSERT INTO friendfamily VALUES(2,9009009001,9009009003);
INSERT INTO friendfamily VALUES(3,9009009002,9009009005);
INSERT INTO friendfamily VALUES(4,9009009003,9009009001);

SELECT * FROM friendfamily;